# sql-library
sql project about library

The task:
Рассмотреть полученный объект и разобрать на возможные сущности внутри объекта, например, классы и учителя в школе или лекарства и фармацевты в аптеке. Составить 4-5 связанных сущностей и реализовать по ним таблицы. Некоторые таблицы могут быть справочными, обязательно нужна связывающая сущности таблица. 

сущности: книги / посетители / филиалы / выдачи книг

информация о сущностях:
1) книги / books: названиe (name) - varchar / автор (author) - varchar / дата написания (writedate) - data / количество копий (copnum) - integer / id филиала, где находится книга (branchid) - integer / id (bookid) - integer (6)
2) посетители / visitors: фио (name) - varchar / номер телефона (phonenum) - integer / id (visid) - integer (3)
3) филиалы / branches: адрес (adress) - varchar / id (brid) - integer (2)
4) выдачи книг / extraditions: id посетителя (visid) - integer / id книги (bookid) - integer / id филиала (brid) - integer / дата выдачи (ext_start) - date / дата приема (ext_finish) - date / была ли сдана книга (is_active) - number / id - integer (6)
Внутри группы все id являются уникальными.

Разработать Create table по придуманным таблицам. Типы данных в таблицах должны быть разнообразными — number, integer, varchar2, date. Наполнить эти таблицы данными. Данные в таблицах должны быть такими, чтобы выводились какие-то результаты по запросам. Файлы с написанными конструкциями create и insert должны прилагаться к проекту. 

Придумать 15 различных запросов к этим таблицам разного уровня сложности. Запрос должен раскрывать какую-то проблематику объекта, чем менее он будет искусственно придуманным, тем лучше. Вспомните, какие у нас были задания на запросы на занятиях и на практике, можно почерпнуть вдохновение из этих примеров. Запрос описать текстом, далее написать select и показать результат его выполнения. Запросы должны включать в себя все разобранные нами темы, кроме xml и json, а именно:
1) простые select с условиями (лаб. 1);
2) однострочные функции, обязательно работа с датами (лаб. 2);
3) групповые функции (лаб. 3);
4) объединения таблиц (лаб. 4 — join, left join) и множеств (лаб. 5 — union, minus, intersect);
5) подзапросы (лаб. 6);
6) аналитические функции (лаб. 7).

Запросы:
1) Выведите название и автора книг, которые находятся во 2ом филиале библиотеки.
2) Выведите название, автора и дату написания (публикации) книг, количество копий которых в 1ом филиале библиотеки больше 10.
3) Выведите id посетителей и их положение в данный момент времени - нужно ли им возвращать книги или нет. Отсортируйте по id посетителей.
4) Сформируйте следующую таблицу результатов.
5) Выведите минимальное, максимальное и среднее количество копий книг, которые находятся в одном филиале библиотеки. Получившиеся числа не могут превышать 2 знака после запятой.
6) Выведите id посетителей, которым было выдано более 1 книги.
7) Выведите для каждой книги адрес филиала, где она находится.
8) Выведите для каждого не задолжавшего посетителя дату, когда он должен вернуть выданную книгу.
9) Выведите для каждой книги ее название, автора и дату начала аренды. Если книга не арендована, выведите сообщение.
10) Выведите 3 названия и авторов книг, лидирующих по количеству копий.
11) Перепишите задание #10 с использованием fetch. 
12) Сформируйте следующую таблицу результатов. 
13)
14)
15)

Оформить проект в презентации, где:
1) рассказать о своем объекте
2) как вы разобрали его на сущности, почему именно такие
3) нарисовать схематично таблицы с указанием полей, первичных и внешних ключей, связей с другими таблицами
4) перечислить 15 разработанных запросов. На слайде должен быть текст запроса (получить список такой-то или вывести таких-то сотрудников/студентов/школьников/пациентов и т.д), сам select и результат выполнения этого select.

Время рассказа о своем проекте фиксированное — 10-15 минут. Презентации приносить в формате pdf, конструкции по созданию и наполнению таблиц — в текстовом документе.

https://1drv.ms/p/s!AigLpmLWz1rQgQqxhcyFVq1olJ6h?e=MRbXWU
